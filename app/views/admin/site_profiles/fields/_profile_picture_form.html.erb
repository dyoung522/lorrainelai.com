<%= turbo_frame_tag "profile_picture" do %>
  <%= form_with model: site_profile, url: admin_site_profile_path, data: { controller: "image-upload" } do |form| %>
    <div class="text-center">
      <div class="mb-4">
        <% if site_profile.profile_picture.attached? %>
          <%= image_tag site_profile.profile_picture, class: "w-32 h-32 sm:w-40 sm:h-40 rounded-full mx-auto object-cover shadow-lg border-4 border-white", data: { image_upload_target: "preview" } %>
        <% else %>
          <div class="w-32 h-32 sm:w-40 sm:h-40 rounded-full mx-auto bg-gradient-to-br from-dusty-rose to-soft-blue shadow-lg border-4 border-white flex items-center justify-center" data-image-upload-target="preview">
            <span class="text-4xl sm:text-5xl text-white font-light">LL</span>
          </div>
        <% end %>
      </div>
      <div class="space-y-3">
        <%= form.file_field :profile_picture, accept: "image/*", class: "block w-full text-sm text-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-medium file:bg-dusty-rose file:text-text-primary hover:file:bg-dusty-rose-dark", data: { image_upload_target: "input", action: "change->image-upload#preview" } %>
        <div class="flex gap-2 justify-center">
          <%= form.submit "Upload", class: "px-4 py-2 bg-dusty-rose hover:bg-dusty-rose-dark text-text-primary rounded-lg transition-colors text-sm cursor-pointer" %>
          <%= link_to "Cancel", root_path, class: "px-4 py-2 bg-gray-200 hover:bg-gray-300 text-text-primary rounded-lg transition-colors text-sm", data: { turbo_frame: "profile_picture" } %>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
