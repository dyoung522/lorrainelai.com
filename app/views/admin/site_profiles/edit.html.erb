<% content_for :title, "Edit Site Profile" %>

<div class="min-h-screen flex flex-col justify-center px-4 py-12">
  <div class="max-w-2xl mx-auto w-full">
    <h1 class="text-2xl font-light text-text-primary mb-8 text-center">Edit Site Profile</h1>

    <%= form_with model: @site_profile, url: admin_site_profile_path, class: "space-y-8" do |form| %>
      <% if @site_profile.errors.any? %>
        <div class="bg-dusty-rose border border-dusty-rose-dark rounded-lg p-4">
          <h2 class="text-text-primary font-medium mb-2">Please fix the following errors:</h2>
          <ul class="list-disc list-inside text-text-secondary">
            <% @site_profile.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <%# Profile Picture %>
      <div class="bg-white/50 rounded-2xl p-6 border border-border-light">
        <label class="block text-sm font-medium text-text-primary mb-2">Profile Picture</label>
        <% if @site_profile.profile_picture.attached? %>
          <div class="mb-4">
            <%= image_tag @site_profile.profile_picture, class: "w-24 h-24 rounded-full object-cover" %>
          </div>
        <% end %>
        <%= form.file_field :profile_picture, accept: "image/*", class: "block w-full text-sm text-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-medium file:bg-dusty-rose file:text-text-primary hover:file:bg-dusty-rose-dark" %>
      </div>

      <%# Tagline %>
      <div class="bg-white/50 rounded-2xl p-6 border border-border-light">
        <label class="block text-sm font-medium text-text-primary mb-2">Tagline</label>
        <%= form.text_field :tagline, class: "w-full px-4 py-2 rounded-lg border border-border bg-white focus:outline-none focus:ring-2 focus:ring-dusty-rose", placeholder: "A short tagline about yourself" %>
        <p class="text-xs text-text-muted mt-1">Maximum 200 characters</p>
      </div>

      <%# About Me %>
      <div class="bg-white/50 rounded-2xl p-6 border border-border-light">
        <label class="block text-sm font-medium text-text-primary mb-2">About Me</label>
        <%= form.text_area :about_me, rows: 6, class: "w-full px-4 py-2 rounded-lg border border-border bg-white focus:outline-none focus:ring-2 focus:ring-dusty-rose", placeholder: "Tell visitors about yourself..." %>
      </div>

      <%# Social Links %>
      <div class="bg-white/50 rounded-2xl p-6 border border-border-light">
        <label class="block text-sm font-medium text-text-primary mb-4">Social Links</label>
        <div class="space-y-4">
          <% SiteProfile::SOCIAL_PLATFORMS.each do |platform| %>
            <div>
              <label class="block text-xs text-text-muted mb-1 capitalize"><%= platform.titleize %></label>
              <%= form.text_field "social_links[#{platform}]", value: @site_profile.social_link(platform), class: "w-full px-4 py-2 rounded-lg border border-border bg-white focus:outline-none focus:ring-2 focus:ring-dusty-rose text-sm", placeholder: "https://#{platform}.com/..." %>
            </div>
          <% end %>
        </div>
      </div>

      <%# Submit %>
      <div class="flex gap-4 justify-center">
        <%= form.submit "Save Changes", class: "px-8 py-3 bg-dusty-rose hover:bg-dusty-rose-dark text-text-primary rounded-full transition-colors shadow-sm font-medium cursor-pointer" %>
        <%= link_to "Cancel", root_path, class: "px-8 py-3 bg-soft-blue hover:bg-soft-blue-dark text-text-primary rounded-full transition-colors shadow-sm font-medium" %>
      </div>
    <% end %>
  </div>
</div>
